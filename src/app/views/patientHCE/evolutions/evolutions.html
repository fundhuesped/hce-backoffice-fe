<div class="container-fluid">
  	<div class="row">
	    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
	    	<div class="row well well-row">
    			<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
    				<div class="row">
		    			<div class="col-xs-10 col-sm-10 col-md-10 col-lg-10"></div>
		    			<div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">{{EvolutionsController.newEvolution.date | date:"dd/MM/yyyy"}}</div>
    				</div>
    				<div class="row">
    					<abm-form-group class="form-group-lg">
					    	<label data-abm-label type="floating">Nueva Evolución</label>
					    	<input type="text" abm-form-control ng-model="EvolutionsController.currentEvolution.notaClinica">
					  	</abm-form-group>
					  	<div ng-show="EvolutionsController.currentEvolution.notaClinica">
					  		<button class="btn btn-success pull-right" ng-click="EvolutionsController.saveNewEvolution()">Guardar</button>
					  	</div>
					  	<div ng-show="EvolutionsController.currentEvolution">
					  		<button class="btn btn-success pull-right" ng-click="EvolutionsController.closeEvolution()">Cerrar visita</button>
					  	</div>
	    			</div>		    					
    			</div>
	    	</div>
		</div>
	</div>
	<div class="row">
		<div class="">
			<div style="padding-right: 15px; padding-left: 15px;">
			  	<div class="row">
<!-- 					<div class="col-xs-2 col-sm-2 col-md-1 col-lg-1">
			            <abm-form-group>
			              <label abm-label for="documentType">Tipo</label>
			                <select class="form-control" name="documentType" ng-model="EvolutionsController.filter.documentType" ng-options="documentType.id as documentType.name for documentType in EvolutionsController.documentTypes | orderBy: 'name'  track by documentType.id" abm-form-control>
			                </select>
			            </abm-form-group>
					</div>
 -->					
 					<div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
			            <abm-form-group>
			            	<label abm-label for="fromDate">Desde</label>
                      		<div class="input-group">
								<input type="text" class="form-control" uib-datepicker-popup="d!/M!/yyyy" name="fromDate" ng-model="EvolutionsController.filters.fromDate" is-open="EvolutionsController.fromCalendarPopup.opened" datepicker-options="EvolutionsController.fromCalendarPopup.options" close-text="Cerrar" alt-input-formats="EvolutionsController.fromCalendarPopup.altInputFormats" current-text="Hoy" clear-text="Limpiar"/>
		                        <span class="input-group-btn">
		                          <button type="button" class="btn btn-default" ng-click="EvolutionsController.fromCalendarPopup.open()"><i class="glyphicon glyphicon-calendar"></i></button>
		                        </span>
			            	</div>
			            </abm-form-group>
					</div>
					<div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
			            <abm-form-group>
			            	<label abm-label for="toDate">Hasta</label>
                      		<div class="input-group">
								<input type="text" class="form-control" uib-datepicker-popup="d!/M!/yyyy" name="toDate" ng-model="EvolutionsController.filters.toDate" is-open="EvolutionsController.toCalendarPopup.opened" datepicker-options="EvolutionsController.toCalendarPopup.options" close-text="Cerrar" alt-input-formats="EvolutionsController.toCalendarPopup.altInputFormats" current-text="Hoy" clear-text="Limpiar"/>
		                        <span class="input-group-btn">
		                          <button type="button" class="btn btn-default" ng-click="EvolutionsController.toCalendarPopup.open()"><i class="glyphicon glyphicon-calendar"></i></button>
		                        </span>
	                        </div>
			            </abm-form-group>
					</div>
					<div class="col-xs-2 col-sm-4 col-md-4 col-lg-4" style="padding-top: 12px;">
						<button ng-click="EvolutionsController.searchEvolutions()" class="btn btn-raised btn-info">Buscar</button>
						<button ng-click="EvolutionsController.cleanFilters()" class="btn btn-raised btn-info">Limpiar</button>
					</div>
				</div>
			</div>
		</div>
	</div>
  	<div class="row">
	    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
	    	<div class="">
		    	<div class="row well well-row" ng-repeat="evolution in EvolutionsController.evolutions" ng-click="evolution.selected=!evolution.selected">
	    			<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
	    				<div class="row" ng-class="{'evolution-header':evolution.selected}">
			    			<div class="col-xs-6 col-sm-6 col-md-6 col-lg-6"></div>
			    			<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">{{evolution.profesional.first_name}} {{evolution.profesional.last_name}}</div>
			    			<div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">{{evolution.date | date:"dd/MM/yyyy"}}</div>
	    				</div>
	    				<div class="row">
			    			<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-show="evolution.selected">
			    				{{evolution.notaClinica}}
			    			</div>		    					
	    				</div>
	    			</div>
		    	</div>
	    	</div>
	    </div>
	</div>
  	<div class="row" ng-show="!EvolutionsController.evolutions || EvolutionsController.evolutions.length == 0">
	    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
	    	<div class="">
		    	<div class="row well well-row">
	    			<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
	    				<div class="row">
			    			<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center">Aún no se ingresaron visitas para este paciente</div>
		    			</div>
	    			</div>
		    	</div>
	    	</div>
	    </div>
	</div>
	<div class="row">
	  <div uib-pagination total-items="EvolutionsController.totalItems" items-per-page="EvolutionsController.pageSize" ng-model="EvolutionsController.currentPage" ng-change="EvolutionsController.pageChanged()"></div>
	</div>
</div>