<div class="container-fluid">
  	<div class="row">
	    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
	    	<div class="row well well-row">
    			<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
    				<div class="row">
		    			<div class="col-xs-10 col-sm-10 col-md-10 col-lg-10"></div>
		    			<div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">{{EvolutionsController.newEvolution.date | date:"dd/MM/yyyy"}}</div>
    				</div>
    				<div class="row" >
	    				<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
		    				<div class="row" >
								<div class="col-xs-12 col-sm-6 col-md-6 col-lg-6 no-padding-left" ng-show="EvolutionsController.newEvolutionFocused || EvolutionsController.currentEvolution">
			    					<abm-form-group class="form-group" >
								    	<label data-abm-label>Motivo de consulta</label>
								    	<input type="text" abm-form-control ng-model="EvolutionsController.currentEvolution.reason" ng-focus="EvolutionsController.newEvolutionFocused = true">
								  	</abm-form-group>
								</div>
								<div class="col-xs-12 col-sm-6 col-md-6 col-lg-6 no-padding-right" ng-show="EvolutionsController.newEvolutionFocused || EvolutionsController.currentEvolution">
									<abm-form-group>
					                	<label abm-label for="evolutionType">Tipo de consulta</label>
				                  		<select class="form-control" name="visitType" ng-model="EvolutionsController.currentEvolution.visitType" ng-options="visitType for visitType in EvolutionsController.visitTypes" abm-form-control  ng-focus="EvolutionsController.newEvolutionFocused = true">
					                    	<option value="">Seleccione un tipo de consulta</option>
					                	</select>
					             	</abm-form-group>
				              	</div>
							</div>
	    				</div>
	    				<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
		    				<div class="row" >
		    					<abm-form-group class="form-group-lg">
							    	<label data-abm-label type="floating">Nueva Evolución</label>
							    	<input type="text" abm-form-control ng-model="EvolutionsController.currentEvolution.notaClinica" ng-focus="EvolutionsController.newEvolutionFocused = true" ng-blur="EvolutionsController.newEvolutionFocused = false">
							  	</abm-form-group>
					  		</div>
					  	</div>
	    				<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
		    				<div class="row" >
							  	<div ng-show="EvolutionsController.currentEvolution.notaClinica">
							  		<button class="btn btn-success pull-right" ng-click="EvolutionsController.saveNewEvolution()">Guardar y seguir</button>
							  	</div>
						  	</div>
					  	</div>
	    			</div>		    					
    			</div>
	    	</div>
		</div>
	</div>
  	<div class="row well well-row">
	    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
	    	<div class="">
		    	<div class="row " ng-repeat="evolution in EvolutionsController.evolutions" style="    padding-bottom: 10px;
    padding-top: 10px;border-bottom:1px solid;border-bottom-color:#D2D2D2" ng-click="evolution.selected=!evolution.selected">
	    			<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
	    				<div class="row" ng-class="{'evolution-header':evolution.selected}">
			    			<div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">{{evolution.date | date:"dd/MM/yyyy"}}</div>
			    			<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">{{evolution.profesional.first_name}} {{evolution.profesional.last_name}}</div>
			    			<div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">{{evolution.reason}}</div>
	    				</div>
	    				<div class="row">
			    			<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-show="evolution.selected">
			    				{{evolution.notaClinica}}
			    			</div>		    					
	    				</div>
	    				<div class="row">
			    			<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-show="evolution.selected">
							  	<div ng-show="EvolutionsController.evolutionCanBeCanceled(evolution)">
							  		<button class="btn btn-danger pull-right btn-raised" ng-click="EvolutionsController.cancelEvolution(evolution)">Anular</button>
							  	</div>
			    			</div>		    					
	    				</div>
	    			</div>
		    	</div>
	    	</div>
	    </div>
	</div>
  	<div class="row" ng-show="!EvolutionsController.evolutions || EvolutionsController.evolutions.length == 0">
	    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
	    	<div class="">
		    	<div class="row well well-row">
	    			<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
	    				<div class="row">
			    			<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center">Aún no se ingresaron visitas para este paciente</div>
		    			</div>
	    			</div>
		    	</div>
	    	</div>
	    </div>
	</div>
	<div class="row">
	  <div uib-pagination boundary-links="true" first-text="Últimas" last-text="Primeras"  previous-text="Más nuevas" next-text="Más viejas" total-items="EvolutionsController.totalItems" items-per-page="EvolutionsController.pageSize" ng-model="EvolutionsController.currentPage" ng-change="EvolutionsController.pageChanged()"></div>
	</div>
</div>