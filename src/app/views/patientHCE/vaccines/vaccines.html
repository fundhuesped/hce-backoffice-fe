<div class="container-fluid">

  	<div class="row">	
	    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
    		<div class="well" style="min-height:350px">
			    <div class="row">
					<div class="col-xs-6 col-sm-6 col-md-6 col-lg-6"><h2>Vacunas</h2></div>
					<div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
							<button class="btn btn-success btn-raised pull-right" ng-click="PatientVaccinesController.openNewPatientVaccineModal()" ng-disabled="!PatientVaccinesController.hasPermissions">Agregar vacuna</button>
							<button class="btn btn-success btn-raised pull-right" ng-click="PatientVaccinesController.openNewRecetaModal()" ng-disabled="PatientVaccinesController.canPrintRecepits()">Imprimir receta</button>
					</div>
				</div>
		    	<table class="table Medication table-condensed">
		    		<thead> 
		    			<tr> 
		    				<th></th>
		    				<th>Nombre</th>
		    				<th>Fecha de aplicación</th>
		    				<th>Observaciones</th>
		    				<th></th>
		    			</tr> 
		    		</thead>
		    		<tbody>
		    			<tr ng-click="vaccine.expanded=!vaccine.expanded" ng-repeat="vaccine in PatientVaccinesController.vaccines">
		    				<td><span class="glyphicon" ng-show="vaccine.length>1" ng-class="{'glyphicon-triangle-bottom':vaccine.expanded,'glyphicon-triangle-right':!vaccine.expanded}"></span></td>
	    					<td style="text-transform: capitalize;">{{vaccine[0].vaccine.name}}</td> 
	    					<td><div ng-class="{'problem-closed':application.state=='Closed','registry-error':application.state=='Error' }" ng-repeat="application in vaccine | limitTo : (vaccine.expanded?10000:1)" style="line-height: 30px">{{application.appliedDate | date:"dd/MM/yyyy"}}</div></td> 
	    					<td><div ng-class="{'problem-closed':application.state=='Closed','registry-error':application.state=='Error' }" ng-repeat="application in vaccine| limitTo : (vaccine.expanded?10000:1)" style="line-height: 30px">{{application.observations}}</div></td> 
	    					<td>
	    						<div ng-repeat="application in vaccine| limitTo : (vaccine.expanded?10000:1)"><button class="btn btn-info btn-sm" type="button" ng-click="PatientVaccinesController.openEditPatientVaccineModal(application)" style="padding: 6px 12px; margin:0px; text-transform: none;"><i class="fa fa-pencil"></i> Ver y Editar</button></div>
		    					
	    					</td> 
    					</tr>
    				</tbody>
    			</table>
				<div ng-if="PatientVaccinesController.isSearching" class="center-text" style="font-size:16px;padding-top:30px;">    <span class="glyphicon glyphicon-refresh spinning"></span> Cargando...    
				</div>

				<div ng-if="!PatientVaccinesController.isSearching&& !PatientVaccinesController.hasVaccines()" class="center-text" style="font-size:16px;padding-top:30px;">---- Aún no se registran ----
				</div>
			</div>
		</div>
	</div>
</div>